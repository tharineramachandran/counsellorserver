- DONE remove docs build folder from git
- DONE add "how to contribute" section

 I try to update the repo at least once a month, so don't be alarmed if I 
{
	arrowParens: "always",
	bracketSpacing: true,
	jsxBracketSameLine: false,
	printWidth: 100,
	proseWrap: "preserve",
	requirePragma: false,
	semi: false,
	singleQuote: true,
	tabWidth: 4,
	trailingComma: "all",
	useTabs: true
}


# V2


review: https://medium.com/@martin_hotell/10-typescript-pro-tips-patterns-with-or-without-react-5799488d6680

# 


attempt at minute -> coords
https://jsbin.com/tuwunuqewa/1/edit?js,output


~~BADGES~~
--> https://github.com/kamranahmedse/driver.js/blob/master/readme.md

<p align="center">
  <a href="https://github.com/kamranahmedse/driver.js/blob/master/license">
    <img src="https://img.shields.io/badge/License-MIT-yellow.svg" />
  </a>
  <a href="https://npmjs.org/package/driver.js">
    <img src="https://img.shields.io/npm/v/driver.js.svg" alt="version" />
  </a>
  <a href="https://npmjs.org/package/driver.js">
    <img src="https://img.shields.io/npm/dm/driver.js.svg" alt="downloads" />
  </a>
</p>



## TODO - updated
- DONE split into separate functions
- DONE add unique keys to numbers?
	- add a wrapper around each group of elements....??
		- change opacity once, and transform each individual element
		- would also be easier to apply key
- add css (emotion)
	- add a note to add `will-change` css
	- figure out how user can pass in style to override
		- via styles or classname or custom css?
		- clean up style names, imports and files (come up with a better system)
- DONE tests
- DONEO figure out updating situation (props from parent)
- DONE convert time helper functions to 24 hour mode
	- DONE parseTime needs to declare new type - simple {hour, minute}
- DONE change internal time to 24 hour mode and allow clock to support it
- DONE bit of styling
- DONE add meridiem support
- DONE add 24 hour mode?
	- DONE numbers
		- animate
	- DONE selection to work
	- DONE clockhand
- DONE major clean up!
	- split helpers into proper files
	- better file naming
	- any remaining typescript errors
- DONE tweak values
	- get blue circle withint red circle?
	- clean up functions around animation values
		- split into new file?
	- move `initialPosition` and `exitPosition` to anim file
- DONE read up on useCallback and its uses
	- useful for memoizing a function to pass to pure component
	- useful for returning in a useEffect so it's not called each time
- DONE tests for working implementation
	- basic jest + enzyme working
		- see if render works
		- see if clicking on something works (if dom updates or react spring fucks it up)
			- react spring:
				- https://github.com/react-spring/react-spring/issues/554
				- https://github.com/react-spring/react-spring/issues/555
				- wait for v9?
					- https://github.com/react-spring/react-spring/issues/668#issuecomment-500232707
	- get jsdom working
		- test with click on certain point
	- RESOURCES USED:
		- https://github.com/react-spring/react-spring/issues/555
		- https://github.com/facebook/react/issues/14769
		- https://github.com/react-spring/react-spring/issues/680
		- https://github.com/react-spring/react-spring/issues/554
		- https://github.com/airbnb/enzyme/issues/1493
		- https://github.com/airbnb/enzyme/issues/426
- DONE experiment with hand animations again
	- apply spring config between modes
	- or possibly apply opacity by moving into Numbers component
	- or try to `set` the animation via a useEffect
- DONE experiment with a context provider for time
	- convert handleTime hook to context
- DONE add done button
	- check out https://usehooks.com/useLockBodyScroll/ for body lock
- DONE add time bar
	- DONE add tests
- DONE add remaining tests
	- DONE for minutes
	- check old tests and port anything over
		- DONE clock-wrapper
		- DONE clock
		- DONE time-dropodown
		- DONE time-picker
		- DONE time
- DONE minor experiments
	- DONE experiment with parentTime as null/undefined
		- see if can still change on clock
			- if not, do a check on state-context that if time doesnt exist, do nothing
		- test that it works
	- DONE change doneButton to render props function
		- see if worth it
		- run tests
	- DONE investigate the blur issue on gh https://github.com/catc/react-timekeeper/issues/15
		- log active element
		- possibly experiment with `contains` - if div wrapping textbox and timekeeper doesn't contain, then just close
			- need to investigate with pointer events on svg...
				- log active element
				- also log if contained on mouseclick
- NO add remaining styles override to config
- DONE add classes to everything

- DONE fix issue with touch double click
- DONE increase transform length of numbers fading in vs out
	- or make it slightly slower?
- DONE upgrade:
	"@typescript-eslint/eslint-plugin": "^1.11.0",
    "@typescript-eslint/parser": "^1.11.0",
	- both to 2.0
- DONE finish logic for coarseMinutes + canChangeTime
	- DONE convert those 2 arguments to options?
	- DONE add tests
- NO see if can clean up config
	- need to profile...
		- dev tools performance profiler
		- react profiler
- DONE see can apply `memo` to any other components
	- DONE memoize numbers components?
- DONE investigate blur option
	- activeElement?
- NO investigate seconds option
- DONE cleanup
	- DONE better naming of files
		- DONE move test utils into a helpers/utils file
	- clean up imports
- DONE update peer dependencies
	- DONE updated in package.json, just save and do `npm install`
		- then commit
- DONE add index.ts for timekeeper project
	- look into emiting declaration only
	- https://github.com/babel/babel/issues/9668
	- run: `./node_modules/.bin/tsc --emitDeclarationOnly -d --outDir zzz --jsx preserve src/components/TimeKeeperWrapper.tsx`
		- but need to move all types into a specific file and then try this? so it doesn't import everything?
	- worst case scenario, just emit declaration only into `lib/ts` and declare that way
		- ./node_modules/.bin/tsc --emitDeclarationOnly -d --outDir lib --jsx react src/index.ts
	- test with mock node modules?
		- clone something, add the package.json, modify the typings to use specific file?
	- need to test that it works correctly
	- TODO
		- update and comit tsconfig.json
		- commit json
		- update scripts and verify it works correctly
			- see if can ignore errors
				- maybe use quiet mode?


```tsx
/// <reference types="react" />
import { ConfigProps } from '../hooks/config';
import { TimeInput, ChangeTimeFn } from '../helpers/types';
interface Props extends ConfigProps {
    time?: TimeInput;
    onChange?: ChangeTimeFn;
}
export default function TimepickerWithConfig({ time, onChange, coarseMinutes, forceCoarseMinutes, switchToMinuteOnHourSelect, closeOnMinuteSelect, hour24Mode, onDoneClick, doneButton, }: Props): JSX.Element;
export {};


// CONSTATE EXAMPLE
import * as React from "react";
declare function createUseContext<P, V>(useValue: (props: P) => V, createMemoInputs?: (value: V) => any[]): {
    (): V;
    Context: React.Context<V>;
    Provider: React.FunctionComponent<P>;
};
export default createUseContext;
```

- DONE docs
	- </span>&nbsp; (default:{' '}
	- DONE syntax highlighting
	- DONE code blocks
	- make responsive
	- DONE actually update content
		- DONE uses emotion, not radium
		- DONE notice about 16.8+, otherwise use older version
- try to do build without specific code
	- see https://stackoverflow.com/a/52062307/2442403
	- see if theres a babel option or plugin
	- or better, see if can remove the code and if it all still works
	- try to see if can use webpack to build
- DONE update docs
	- DONE update tags
	- add changelog with changes?
	- DONE update readme with changes and notice
		- update docs with new props and changes to props
	- DONE warnings about v2 requiring react 16.8+, otherwise use v1
	- talk about updated libraries
		- jest webpack
		- updated jest
		- radium -> emotion
		- react motion -> react spring
		- typescript
		- improved dev
			- linting, added prettier for easier contributions
			- travis
	- new featurs
		- 24 hour mode
		- improved coarse minutes
		- improved extending styles
		- can extend done style
	- libraries used (emotion)
	- screenshot
	- basic docs, just usage (with link to full docs)
	- contributing + todo section
		- update react spring to v9 on release
			- should fix about of typescript issues
		- fix remaining typescript errors

- DONE travis
- DONE publish + release
	- DONE build library
	- DONE update readme
		- badges: mit, code passing, node engine?
			- FINAL: mit, code passing, monthly downloads
			- https://shields.io/category/downloads
	- DONE close issues
	- DONE npm release
- DONE fix bugs
	- dropdown
		- use contains for elsewhere click
		- minutes should be 0 to 59
			- update tests
- DONE re-publish
	- docs
	- npm
	- tag release
- DONE bugs
	- NVM changing meridiem changes hour -> minutes
	- overflow is broken
		- clicking merdiems triggers clock click
- DONE publicize on hacker news

- DONE clean up the clock events bind
- DONE add to readme the stuff it includes
- DONE build lib
- DONE build docs
- DONE bump version
- DONE publish
- DONE test with yarn to see if can reproduce node engine error
	- if can, try adding `>=` and see if still get it
- DONE new version + close PR
- re-add airbnb label


```tsx
// const configContext: Context<Config> = createContext({})
// const configContext = createContext(genConfig({}))
// const configContext = createContext({} as Config)
// const configContext: Context<Config> = createContext<{} | Config>({})
// const configContext: Config = createContext({})
// const configContext = createContext({}) as Context<Config>

// const configContext: Context<Config> = createContext({} as any) // WORKS
const configContext = createContext<Config>({} as any)
// const configContext = createContext({} as Config)
const configContext = createContext({} as Config)
```


```
"globals": {
      "ts-jest": {
        "tsConfig": "tsconfig.test.json"
      }
    },
    "transform": {
      "^.+\\.tsx?$": "ts-jest",
      "^.+\\.jsx?$": "babel-jest"
    },
    "testRegex": "test/base/.*\\.(t|j)sx?$",
    "moduleFileExtensions": [
      "ts",
      "tsx",
      "js",
      "jsx",
      "json"
    ],
    "testPathIgnorePatterns": [
      "/node_modules/",
      "/\\./"
    ],
    "watchPathIgnorePatterns": [
      "<rootDir>/node_modules/"
    ]
}
```




## TODO - ENDGAME
- DONE set up env
	- node node, 10+
	- new webpack
		- hot reloading
		- css styles
	- docs support
	- docs build support + library build support
		- rollup? see what react uses
		- make sure can import library
	- ensure remaining libraries work correctly
		- emotion
			- make sure emotion isnt bundled WITH my library
	- jest
- DONE basic poc with existing functionality
	- re-examine logic around how updating the time actually works
- DONE examine all tests + set up jest
	- https://github.com/catc/boilerplate/blob/master/create-react-app.md
	- react spring:
		- https://github.com/react-spring/react-spring/issues/554
		- https://github.com/react-spring/react-spring/issues/555
		- wait for v9?
			- https://github.com/react-spring/react-spring/issues/668#issuecomment-500232707
- DONE check out 24 hour mode pr
	- DONE comment on pr
- 24 hour mode support
- move dependencies to peerDependencies in package.json
- testing
	- https://github.com/catc/boilerplate/blob/master/create-react-app.md
- code loader support?
- wait for v9 react spring for better test support?





## Goals
- update libs
	- jest
	- react
	- react spring
	- webpack
	- emotion
- better contribution guidelines + docs
	- DONE prettier
	- DONE typescript
		- https://github.com/typescript-eslint/typescript-eslint#readme
- better tests
	- no snapshots

# New Features
- 24 hour format
- make `coarseMultiplier` configurable
- better way of extending style
- make `done` button text configurable
- EXTRA add CI with badges
- EXTRA small mode?
- EXTRA `onBlur` event
- EXTRA add seconds picker