{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Activants46\\\\Desktop\\\\githubLMS\\\\counsellorserver\\\\ATIVANTS_LMS_COUNSELLOR\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Activants46\\\\Desktop\\\\githubLMS\\\\counsellorserver\\\\ATIVANTS_LMS_COUNSELLOR\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\Activants46\\\\Desktop\\\\githubLMS\\\\counsellorserver\\\\ATIVANTS_LMS_COUNSELLOR\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\Activants46\\\\Desktop\\\\githubLMS\\\\counsellorserver\\\\ATIVANTS_LMS_COUNSELLOR\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\Activants46\\\\Desktop\\\\githubLMS\\\\counsellorserver\\\\ATIVANTS_LMS_COUNSELLOR\\\\src\\\\SecondaryComponents\\\\Desktop\\\\UserDashboard\\\\layout\\\\ViewCounsellorDeclined.js\";\nimport React from 'react';\nimport { Button, Form, Header, Image, Input, Dropdown, Grid, Message, Segment, Card, Img, Icon, Table, Label, Container, List, Popup } from \"semantic-ui-react\";\nimport { ToastContainer, toast } from 'react-toastify';\n\nvar axios = require('axios');\n\nvar ViewDeclined = /*#__PURE__*/function (_React$Component) {\n  _inherits(ViewDeclined, _React$Component);\n\n  var _super = _createSuper(ViewDeclined);\n\n  function ViewDeclined() {\n    var _this;\n\n    _classCallCheck(this, ViewDeclined);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      requests: []\n    };\n\n    _this.acceptRequest = function (requestID, response) {\n      console.log(requestID);\n      console.log(response);\n      var data = {\n        requestID: requestID,\n        response: response,\n        counsellorID: localStorage.userID\n      };\n      var options = {\n        headers: {\n          jwtToken: localStorage.jwtToken\n        }\n      };\n      axios.get('http://localhost:5000/request/google/get', {\n        params: {\n          requestID: requestID,\n          response: response,\n          counsellorID: localStorage.userID\n        }\n      }).then(function (res) {\n        if (res.status == 200) {\n          toast.success('Successful', {\n            position: \"top-right\",\n            autoClose: 3000,\n            hideProgressBar: true,\n            closeOnClick: true,\n            pauseOnHover: false,\n            draggable: true,\n            progress: ''\n          });\n\n          _this.setTabledata();\n        }\n      }).catch(function (error) {\n        toast.error('Sign-In to google first', {\n          position: \"top-right\",\n          autoClose: 3000,\n          hideProgressBar: true,\n          closeOnClick: true,\n          pauseOnHover: false,\n          draggable: true,\n          progress: ''\n        });\n        console.log(error);\n      });\n    };\n\n    _this.setTabledata = function () {\n      axios.get('http://localhost:5000/session/counsellor/declined', {\n        headers: {\n          jwtToken: localStorage.jwtToken\n        },\n        data: {\n          userID: localStorage.userID\n        }\n      }).then(function (res) {\n        console.log(res);\n        var requests = res.data;\n        console.log(requests);\n        requests.forEach(function (element) {\n          var datestr = element.ct_session_start_time.split(\"T\");\n          var datestrdate = datestr[0].split(\"-\");\n          var datestr3 = datestr[1].split(\":\");\n          var enddatestr = element.ct_session_end_time.split(\"T\");\n          var enddatestr3 = enddatestr[1].split(\":\");\n          var day = parseInt(datestrdate[2]).toString();\n          element.ct_session_start_time = datestr3[0] + \":\" + datestr3[1];\n          element.ct_session_end_time = enddatestr3[0] + \":\" + enddatestr3[1];\n          element.ct_session_date = day + \"/\" + datestrdate[1] + \"/\" + datestrdate[0];\n        });\n\n        _this.setState({\n          requests: requests\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(ViewDeclined, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setTabledata();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(Grid, {\n        columns: \"equal\",\n        divided: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Grid.Row, {\n        textAlign: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Grid.Column, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Container, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 29\n        }\n      }, \"Declined requests for sessions\"), /*#__PURE__*/React.createElement(Table, {\n        basic: \"very\",\n        celled: true,\n        collapsing: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Table.Header, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Table.Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Table.HeaderCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 41\n        }\n      }, \"Session ID \"), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 41\n        }\n      }, \"Counsellee Name \"), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 41\n        }\n      }, \"Counsellee Email \"), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 41\n        }\n      }, \"Session Date \"), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 41\n        }\n      }, \"Session Start Time \"), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 41\n        }\n      }, \"Session End Time \"), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 41\n        }\n      }, \"Session Time Zone \"), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 41\n        }\n      }, \"Options\"))), /*#__PURE__*/React.createElement(Table.Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 33\n        }\n      }, this.state.requests.length > 0 ? this.state.requests.map(function (details, index) {\n        return /*#__PURE__*/React.createElement(Table.Row, {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 45\n          }\n        }, /*#__PURE__*/React.createElement(Table.Cell, {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 49\n          }\n        }, details.id), /*#__PURE__*/React.createElement(Table.Cell, {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 49\n          }\n        }, details.TX_USER_NAME), /*#__PURE__*/React.createElement(Table.Cell, {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 49\n          }\n        }, details.TX_USER_EMAIL), /*#__PURE__*/React.createElement(Table.Cell, {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 49\n          }\n        }, details.ct_session_date), /*#__PURE__*/React.createElement(Table.Cell, {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 49\n          }\n        }, details.ct_session_start_time), /*#__PURE__*/React.createElement(Table.Cell, {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 49\n          }\n        }, details.ct_session_end_time), /*#__PURE__*/React.createElement(Table.Cell, {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 49\n          }\n        }, details.ct_counsellor_timezone_code), /*#__PURE__*/React.createElement(Table.Cell, {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 49\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          class: \"ui positive button\",\n          onClick: function onClick() {\n            return _this2.acceptRequest(details.id, 1);\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 53\n          }\n        }, /*#__PURE__*/React.createElement(Icon, {\n          name: \"check\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 142\n          }\n        }), \" Accept \")), /*#__PURE__*/React.createElement(Table.Cell, {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 49\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          class: \"ui negative button\",\n          onClick: function onClick() {\n            return _this2.acceptRequest(details.id, 4);\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 53\n          }\n        }, /*#__PURE__*/React.createElement(Icon, {\n          name: \"trash\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 140\n          }\n        }), \" Delete \")));\n      }) : /*#__PURE__*/React.createElement(Table.Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(Table.Cell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 49\n        }\n      }, \"No declined requests requests found for you\"))))))));\n    }\n  }]);\n\n  return ViewDeclined;\n}(React.Component);\n\nexport default ViewDeclined;","map":{"version":3,"sources":["C:/Users/Activants46/Desktop/githubLMS/counsellorserver/ATIVANTS_LMS_COUNSELLOR/src/SecondaryComponents/Desktop/UserDashboard/layout/ViewCounsellorDeclined.js"],"names":["React","Button","Form","Header","Image","Input","Dropdown","Grid","Message","Segment","Card","Img","Icon","Table","Label","Container","List","Popup","ToastContainer","toast","axios","require","ViewDeclined","state","requests","acceptRequest","requestID","response","console","log","data","counsellorID","localStorage","userID","options","headers","jwtToken","get","params","then","res","status","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","setTabledata","catch","error","forEach","element","datestr","ct_session_start_time","split","datestrdate","datestr3","enddatestr","ct_session_end_time","enddatestr3","day","parseInt","toString","ct_session_date","setState","length","map","details","index","id","TX_USER_NAME","TX_USER_EMAIL","ct_counsellor_timezone_code","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {    Button,    Form,    Header,    Image,    Input, \r\n    Dropdown, Grid,   \r\n     Message,    Segment, Card, Img, Icon,\r\n    Table, Label, Container, List, Popup} from \"semantic-ui-react\";\r\n    \r\nimport { ToastContainer, toast } from 'react-toastify';\r\nconst axios = require('axios');\r\nclass ViewDeclined extends React.Component {\r\n    state = {\r\n        requests: []\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setTabledata();\r\n    }\r\n\r\n    acceptRequest = (requestID, response) => {\r\n        console.log(requestID);\r\n        console.log(response);\r\n        var data = {\r\n            requestID: requestID,\r\n            response: response,\r\n            counsellorID: localStorage.userID\r\n          };\r\n          \r\n          var options = {\r\n            headers: {\r\n                jwtToken: localStorage.jwtToken,\r\n            }\r\n          };\r\n        axios.get('http://localhost:5000/request/google/get',  \r\n        { params: { requestID: requestID,\r\n            response: response,\r\n            counsellorID: localStorage.userID } })\r\n            .then((res) => {\r\n             \r\n                if(res.status == 200 ){\r\n                    toast.success('Successful', {\r\n                        position: \"top-right\",\r\n                        autoClose: 3000,\r\n                        hideProgressBar: true,\r\n                        closeOnClick: true,\r\n                        pauseOnHover: false,\r\n                        draggable: true,\r\n                        progress: '',\r\n                    });  \r\n\r\n                    this.setTabledata();\r\n  \r\n                } \r\n            })\r\n            .catch(function (error) {\r\n\r\n                toast.error('Sign-In to google first', {\r\n                    position: \"top-right\",\r\n                    autoClose: 3000,\r\n                    hideProgressBar: true,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: false,\r\n                    draggable: true,\r\n                    progress: '',\r\n                });  \r\n\r\n\r\n                console.log(error);\r\n            });\r\n    };\r\n\r\n    setTabledata = ( ) => {\r\n        axios.get('http://localhost:5000/session/counsellor/declined', {\r\n            headers: {\r\n                jwtToken: localStorage.jwtToken\r\n            },\r\n            data: {\r\n                userID: localStorage.userID\r\n\r\n            }\r\n        })\r\n            .then((res) => {\r\n                console.log(res);\r\n                const requests = res.data;\r\n                console.log(requests);\r\n                requests.forEach(element => {\r\n                    var datestr = element.ct_session_start_time.split(\"T\");\r\n\r\n                    var datestrdate = datestr[0].split(\"-\");\r\n                    var datestr3 = datestr[1].split(\":\");\r\n\r\n                    var enddatestr = element.ct_session_end_time.split(\"T\");\r\n\r\n                    var enddatestr3 = enddatestr[1].split(\":\");\r\n                    var day = (parseInt(datestrdate[2])).toString();\r\n\r\n                    element.ct_session_start_time = datestr3[0] + \":\" + datestr3[1];\r\n                    element.ct_session_end_time = enddatestr3[0] + \":\" + enddatestr3[1];\r\n                    element.ct_session_date = day + \"/\" + datestrdate[1] + \"/\" + datestrdate[0];\r\n                });\r\n                this.setState({ requests });\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n            });\r\n    };\r\n    render() {\r\n        return (\r\n            <Grid columns='equal' divided>\r\n                <Grid.Row textAlign='center'>\r\n                    <Grid.Column>\r\n                        <Container>\r\n                            <h1>Declined requests for sessions</h1>\r\n                            <Table basic='very' celled collapsing>\r\n                                <Table.Header>\r\n                                    <Table.Row>\r\n                                        <Table.HeaderCell>Session ID </Table.HeaderCell>\r\n                                        <Table.HeaderCell>Counsellee Name </Table.HeaderCell>\r\n                                        <Table.HeaderCell>Counsellee Email </Table.HeaderCell>\r\n                                        <Table.HeaderCell>Session Date </Table.HeaderCell>\r\n                                        <Table.HeaderCell>Session Start Time </Table.HeaderCell>\r\n                                        <Table.HeaderCell>Session End Time </Table.HeaderCell>\r\n                                        <Table.HeaderCell>Session Time Zone </Table.HeaderCell>\r\n                                        <Table.HeaderCell>Options</Table.HeaderCell>\r\n                                    </Table.Row>\r\n                                </Table.Header>\r\n                                <Table.Body>\r\n                                    {this.state.requests.length > 0 ? (\r\n                                        this.state.requests.map((details, index) => (\r\n                                            <Table.Row>\r\n                                                <Table.Cell>\r\n                                                    {details.id}\r\n                                                </Table.Cell> \r\n                                                <Table.Cell>\r\n                                                    {details.TX_USER_NAME}\r\n                                                </Table.Cell>\r\n                                                <Table.Cell>\r\n                                                    {details.TX_USER_EMAIL}\r\n                                                </Table.Cell> \r\n                                                <Table.Cell>\r\n                                                    {details.ct_session_date}\r\n                                                </Table.Cell>\r\n                                                <Table.Cell>\r\n                                                    {details.ct_session_start_time}\r\n                                                </Table.Cell>\r\n                                                <Table.Cell>\r\n                                                    {details.ct_session_end_time}\r\n                                                </Table.Cell>\r\n                                                <Table.Cell>\r\n                                                    {details.ct_counsellor_timezone_code}\r\n                                                </Table.Cell>\r\n                                                <Table.Cell> \r\n                                                    <button   class=\"ui positive button\"   onClick={() => this.acceptRequest(details.id, 1)}><Icon name='check' /> Accept </button>\r\n \r\n                                                    \r\n                                                </Table.Cell>\r\n                                                <Table.Cell> \r\n                                                    \r\n                                                    <button class=\"ui negative button\"  onClick={() => this.acceptRequest(details.id, 4)} ><Icon name='trash' /> Delete </button>\r\n \r\n                                                </Table.Cell>\r\n                                            </Table.Row>))\r\n                                    ) :\r\n                                        (\r\n                                            <Table.Row>\r\n                                                <Table.Cell>\r\n                                                    No declined requests requests found for you  \r\n                                        </Table.Cell>\r\n                                            </Table.Row>\r\n                                        )\r\n                                    }\r\n                                </Table.Body>\r\n                            </Table>\r\n                        </Container>\r\n                    </Grid.Column>\r\n                </Grid.Row>\r\n            </Grid>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ViewDeclined;"]},"metadata":{},"sourceType":"module"}