{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Activants46\\\\Desktop\\\\githubLMS\\\\counsellorserver\\\\ATIVANTS_LMS_COUNSELLOR\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Activants46\\\\Desktop\\\\githubLMS\\\\counsellorserver\\\\ATIVANTS_LMS_COUNSELLOR\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\Activants46\\\\Desktop\\\\githubLMS\\\\counsellorserver\\\\ATIVANTS_LMS_COUNSELLOR\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\Activants46\\\\Desktop\\\\githubLMS\\\\counsellorserver\\\\ATIVANTS_LMS_COUNSELLOR\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\Activants46\\\\Desktop\\\\githubLMS\\\\counsellorserver\\\\ATIVANTS_LMS_COUNSELLOR\\\\src\\\\SecondaryComponents\\\\Desktop\\\\UserDashboard\\\\layout\\\\ViewUserChangeRequest.js\";\nimport React from 'react';\nimport { Button, Form, Header, Image, Input, Dropdown, Grid, Modal, Message, Segment, Card, Img, Icon, Table, Label, Container, List, Popup } from \"semantic-ui-react\";\nimport { ToastContainer, toast } from 'react-toastify';\nimport UserChangeSession from './UserChangeSessionModel';\n\nvar axios = require('axios');\n\nvar ViewChangeRequest = /*#__PURE__*/function (_React$Component) {\n  _inherits(ViewChangeRequest, _React$Component);\n\n  var _super = _createSuper(ViewChangeRequest);\n\n  function ViewChangeRequest() {\n    var _this;\n\n    _classCallCheck(this, ViewChangeRequest);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      requests: [],\n      openModel: false\n    };\n    return _this;\n  }\n\n  _createClass(ViewChangeRequest, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get('http://localhost:5000/session/getUserChangeRequests/' + localStorage.userID, {\n        headers: {\n          jwtToken: localStorage.jwtToken\n        }\n      }).then(function (res) {\n        console.log(res);\n        var requests = res.data;\n        console.log(requests);\n        requests.forEach(function (element) {\n          var requestdatestr = element.request.ct_session_start_time.split(\"T\");\n          var requestdatestrdate = requestdatestr[0].split(\"-\");\n          var requestdatestr3 = requestdatestr[1].split(\":\");\n          var requestenddatestr = element.request.ct_session_end_time.split(\"T\");\n          var requestenddatestr3 = requestenddatestr[1].split(\":\");\n          var requestday = parseInt(requestdatestrdate[2]).toString();\n          element.request.ct_session_start_time = requestdatestr3[0] + \":\" + requestdatestr3[1];\n          element.request.ct_session_end_time = requestenddatestr3[0] + \":\" + requestenddatestr3[1];\n          element.request.ct_session_date = requestday + \"/\" + requestdatestrdate[1] + \"/\" + requestdatestrdate[0];\n\n          for (var x = 0; x < element.changeRequests.length; x++) {\n            var datestr = element.changeRequests[x].ct_session_start_time.split(\"T\");\n            var datestrdate = datestr[0].split(\"-\");\n            var datestr3 = datestr[1].split(\":\");\n            var enddatestr = element.changeRequests[x].ct_session_end_time.split(\"T\");\n            var enddatestr3 = enddatestr[1].split(\":\");\n            var day = parseInt(datestrdate[2]).toString();\n            element.changeRequests[x].ct_session_start_time = datestr3[0] + \":\" + datestr3[1];\n            element.changeRequests[x].ct_session_end_time = enddatestr3[0] + \":\" + enddatestr3[1];\n            element.changeRequests[x].ct_session_date = day + \"/\" + datestrdate[1] + \"/\" + datestrdate[0];\n          }\n        });\n        var openModel = false;\n\n        _this2.setState({\n          requests: requests,\n          openModel: openModel\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return /*#__PURE__*/React.createElement(Grid, {\n        columns: \"equal\",\n        divided: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Grid.Row, {\n        textAlign: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Grid.Column, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Container, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 29\n        }\n      }, \"Change requests for sessions\"), /*#__PURE__*/React.createElement(Table, {\n        basic: \"very\",\n        celled: true,\n        collapsing: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Table.Header, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Table.Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Table.HeaderCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 41\n        }\n      }, \"Session ID \"), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 41\n        }\n      }, \"Session Date \"), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 41\n        }\n      }, \"Session Start Time \"), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 41\n        }\n      }, \"Session End Time \"), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 41\n        }\n      }, \"Session Time Zone \"), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 41\n        }\n      }, \"Session User ID \"))), /*#__PURE__*/React.createElement(Table.Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 33\n        }\n      }, this.state.requests.length > 0 ? this.state.requests.map(function (details, index) {\n        return /*#__PURE__*/React.createElement(Table.Row, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 45\n          }\n        }, /*#__PURE__*/React.createElement(Table.Cell, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 49\n          }\n        }, details.request.id), /*#__PURE__*/React.createElement(Table.Cell, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 49\n          }\n        }, details.request.ct_session_date), /*#__PURE__*/React.createElement(Table.Cell, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 49\n          }\n        }, details.request.ct_session_start_time), /*#__PURE__*/React.createElement(Table.Cell, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 49\n          }\n        }, details.request.ct_session_end_time), /*#__PURE__*/React.createElement(Table.Cell, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 49\n          }\n        }, details.request.ct_counsellor_timezone_code), /*#__PURE__*/React.createElement(Table.Cell, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 49\n          }\n        }, /*#__PURE__*/React.createElement(Modal, {\n          onClose: function onClose() {\n            return _this3.setState({\n              openModel: false\n            });\n          },\n          onOpen: function onOpen() {\n            return _this3.setState({\n              openModel: true\n            });\n          },\n          open: _this3.state.openModel,\n          trigger: /*#__PURE__*/React.createElement(Button, {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 66\n            }\n          }, \"Change session date\"),\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 53\n          }\n        }, /*#__PURE__*/React.createElement(Modal.Header, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 57\n          }\n        }, \"Select Session Change Date\"), /*#__PURE__*/React.createElement(Modal.Content, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 57\n          }\n        }, /*#__PURE__*/React.createElement(UserChangeSession, {\n          Request: details,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 61\n          }\n        })), /*#__PURE__*/React.createElement(Modal.Actions, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 57\n          }\n        }, /*#__PURE__*/React.createElement(Button, {\n          color: \"black\",\n          onClick: function onClick() {\n            return _this3.setState({\n              openModel: false\n            });\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 61\n          }\n        }, \"Close\")))));\n      }) : /*#__PURE__*/React.createElement(Table.Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(Table.Cell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 49\n        }\n      }, \"No requests found for you today\"))))))));\n    }\n  }]);\n\n  return ViewChangeRequest;\n}(React.Component);\n\nexport default ViewChangeRequest;","map":{"version":3,"sources":["C:/Users/Activants46/Desktop/githubLMS/counsellorserver/ATIVANTS_LMS_COUNSELLOR/src/SecondaryComponents/Desktop/UserDashboard/layout/ViewUserChangeRequest.js"],"names":["React","Button","Form","Header","Image","Input","Dropdown","Grid","Modal","Message","Segment","Card","Img","Icon","Table","Label","Container","List","Popup","ToastContainer","toast","UserChangeSession","axios","require","ViewChangeRequest","state","requests","openModel","get","localStorage","userID","headers","jwtToken","then","res","console","log","data","forEach","element","requestdatestr","request","ct_session_start_time","split","requestdatestrdate","requestdatestr3","requestenddatestr","ct_session_end_time","requestenddatestr3","requestday","parseInt","toString","ct_session_date","x","changeRequests","length","datestr","datestrdate","datestr3","enddatestr","enddatestr3","day","setState","catch","error","map","details","index","id","ct_counsellor_timezone_code","Component"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACIC,MADJ,EACYC,IADZ,EACkBC,MADlB,EAC0BC,KAD1B,EACiCC,KADjC,EAEIC,QAFJ,EAEcC,IAFd,EAEoBC,KAFpB,EAGIC,OAHJ,EAGaC,OAHb,EAGsBC,IAHtB,EAG4BC,GAH5B,EAGiCC,IAHjC,EAIIC,KAJJ,EAIWC,KAJX,EAIkBC,SAJlB,EAI6BC,IAJ7B,EAImCC,KAJnC,QAKO,mBALP;AAOA,SAASC,cAAT,EAAyBC,KAAzB,QAAsC,gBAAtC;AAEA,OAAOC,iBAAP,MAA8B,0BAA9B;;AAEA,IAAMC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;IACMC,iB;;;;;;;;;;;;;;;UACFC,K,GAAQ;AACJC,MAAAA,QAAQ,EAAE,EADN;AAEJC,MAAAA,SAAS,EAAE;AAFP,K;;;;;;wCAIY;AAAA;;AAChBL,MAAAA,KAAK,CAACM,GAAN,CAAU,yDAAyDC,YAAY,CAACC,MAAhF,EAAwF;AACpFC,QAAAA,OAAO,EAAE;AACLC,UAAAA,QAAQ,EAAEH,YAAY,CAACG;AADlB;AAD2E,OAAxF,EAKKC,IALL,CAKU,UAACC,GAAD,EAAS;AACXC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,YAAMR,QAAQ,GAAGQ,GAAG,CAACG,IAArB;AACAF,QAAAA,OAAO,CAACC,GAAR,CAAYV,QAAZ;AAEAA,QAAAA,QAAQ,CAACY,OAAT,CAAiB,UAAAC,OAAO,EAAI;AAExB,cAAIC,cAAc,GAAGD,OAAO,CAACE,OAAR,CAAgBC,qBAAhB,CAAsCC,KAAtC,CAA4C,GAA5C,CAArB;AACA,cAAIC,kBAAkB,GAAGJ,cAAc,CAAC,CAAD,CAAd,CAAkBG,KAAlB,CAAwB,GAAxB,CAAzB;AACA,cAAIE,eAAe,GAAGL,cAAc,CAAC,CAAD,CAAd,CAAkBG,KAAlB,CAAwB,GAAxB,CAAtB;AACA,cAAIG,iBAAiB,GAAGP,OAAO,CAACE,OAAR,CAAgBM,mBAAhB,CAAoCJ,KAApC,CAA0C,GAA1C,CAAxB;AAEA,cAAIK,kBAAkB,GAAGF,iBAAiB,CAAC,CAAD,CAAjB,CAAqBH,KAArB,CAA2B,GAA3B,CAAzB;AACA,cAAIM,UAAU,GAAIC,QAAQ,CAACN,kBAAkB,CAAC,CAAD,CAAnB,CAAT,CAAkCO,QAAlC,EAAjB;AAEAZ,UAAAA,OAAO,CAACE,OAAR,CAAgBC,qBAAhB,GAAwCG,eAAe,CAAC,CAAD,CAAf,GAAqB,GAArB,GAA2BA,eAAe,CAAC,CAAD,CAAlF;AACAN,UAAAA,OAAO,CAACE,OAAR,CAAgBM,mBAAhB,GAAsCC,kBAAkB,CAAC,CAAD,CAAlB,GAAwB,GAAxB,GAA8BA,kBAAkB,CAAC,CAAD,CAAtF;AACAT,UAAAA,OAAO,CAACE,OAAR,CAAgBW,eAAhB,GAAkCH,UAAU,GAAG,GAAb,GAAmBL,kBAAkB,CAAC,CAAD,CAArC,GAA2C,GAA3C,GAAiDA,kBAAkB,CAAC,CAAD,CAArG;;AAGA,eAAK,IAAIS,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGd,OAAO,CAACe,cAAR,CAAuBC,MAA3C,EAAmDF,CAAC,EAApD,EAAwD;AAEpD,gBAAIG,OAAO,GAAGjB,OAAO,CAACe,cAAR,CAAuBD,CAAvB,EAA0BX,qBAA1B,CAAgDC,KAAhD,CAAsD,GAAtD,CAAd;AACA,gBAAIc,WAAW,GAAGD,OAAO,CAAC,CAAD,CAAP,CAAWb,KAAX,CAAiB,GAAjB,CAAlB;AACA,gBAAIe,QAAQ,GAAGF,OAAO,CAAC,CAAD,CAAP,CAAWb,KAAX,CAAiB,GAAjB,CAAf;AACA,gBAAIgB,UAAU,GAAGpB,OAAO,CAACe,cAAR,CAAuBD,CAAvB,EAA0BN,mBAA1B,CAA8CJ,KAA9C,CAAoD,GAApD,CAAjB;AACA,gBAAIiB,WAAW,GAAGD,UAAU,CAAC,CAAD,CAAV,CAAchB,KAAd,CAAoB,GAApB,CAAlB;AACA,gBAAIkB,GAAG,GAAIX,QAAQ,CAACO,WAAW,CAAC,CAAD,CAAZ,CAAT,CAA2BN,QAA3B,EAAV;AAEAZ,YAAAA,OAAO,CAACe,cAAR,CAAuBD,CAAvB,EAA0BX,qBAA1B,GAAkDgB,QAAQ,CAAC,CAAD,CAAR,GAAc,GAAd,GAAoBA,QAAQ,CAAC,CAAD,CAA9E;AACAnB,YAAAA,OAAO,CAACe,cAAR,CAAuBD,CAAvB,EAA0BN,mBAA1B,GAAgDa,WAAW,CAAC,CAAD,CAAX,GAAiB,GAAjB,GAAuBA,WAAW,CAAC,CAAD,CAAlF;AACArB,YAAAA,OAAO,CAACe,cAAR,CAAuBD,CAAvB,EAA0BD,eAA1B,GAA4CS,GAAG,GAAG,GAAN,GAAYJ,WAAW,CAAC,CAAD,CAAvB,GAA6B,GAA7B,GAAmCA,WAAW,CAAC,CAAD,CAA1F;AACH;AACJ,SA5BD;AA6BA,YAAM9B,SAAS,GAAG,KAAlB;;AACA,QAAA,MAAI,CAACmC,QAAL,CAAc;AAAEpC,UAAAA,QAAQ,EAARA,QAAF;AAAYC,UAAAA,SAAS,EAATA;AAAZ,SAAd;AACH,OAzCL,EA0CKoC,KA1CL,CA0CW,UAAUC,KAAV,EAAiB;AACpB7B,QAAAA,OAAO,CAACC,GAAR,CAAY4B,KAAZ;AACH,OA5CL;AA6CH;;;6BACQ;AAAA;;AACL,0BACI,oBAAC,IAAD;AAAM,QAAA,OAAO,EAAC,OAAd;AAAsB,QAAA,OAAO,MAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,IAAD,CAAM,GAAN;AAAU,QAAA,SAAS,EAAC,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,IAAD,CAAM,MAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCADJ,eAEI,oBAAC,KAAD;AAAO,QAAA,KAAK,EAAC,MAAb;AAAoB,QAAA,MAAM,MAA1B;AAA2B,QAAA,UAAU,MAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,KAAD,CAAO,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,KAAD,CAAO,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,KAAD,CAAO,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADJ,eAEI,oBAAC,KAAD,CAAO,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAFJ,eAGI,oBAAC,KAAD,CAAO,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAHJ,eAII,oBAAC,KAAD,CAAO,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAJJ,eAKI,oBAAC,KAAD,CAAO,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BALJ,eAMI,oBAAC,KAAD,CAAO,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BANJ,CADJ,CADJ,eAWI,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKvC,KAAL,CAAWC,QAAX,CAAoB6B,MAApB,GAA6B,CAA7B,GACG,KAAK9B,KAAL,CAAWC,QAAX,CAAoBuC,GAApB,CAAwB,UAACC,OAAD,EAAUC,KAAV;AAAA,4BACpB,oBAAC,KAAD,CAAO,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACKD,OAAO,CAACzB,OAAR,CAAgB2B,EADrB,CADJ,eAII,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACKF,OAAO,CAACzB,OAAR,CAAgBW,eADrB,CAJJ,eAOI,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACKc,OAAO,CAACzB,OAAR,CAAgBC,qBADrB,CAPJ,eAUI,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACKwB,OAAO,CAACzB,OAAR,CAAgBM,mBADrB,CAVJ,eAaI,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACKmB,OAAO,CAACzB,OAAR,CAAgB4B,2BADrB,CAbJ,eAgBI,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAEI,oBAAC,KAAD;AACI,UAAA,OAAO,EAAE;AAAA,mBAAM,MAAI,CAACP,QAAL,CAAc;AAAEnC,cAAAA,SAAS,EAAE;AAAb,aAAd,CAAN;AAAA,WADb;AAEI,UAAA,MAAM,EAAE;AAAA,mBAAM,MAAI,CAACmC,QAAL,CAAc;AAAEnC,cAAAA,SAAS,EAAE;AAAb,aAAd,CAAN;AAAA,WAFZ;AAGI,UAAA,IAAI,EAAE,MAAI,CAACF,KAAL,CAAWE,SAHrB;AAII,UAAA,OAAO,eAAE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAMI,oBAAC,KAAD,CAAO,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCANJ,eAOI,oBAAC,KAAD,CAAO,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI,oBAAC,iBAAD;AACI,UAAA,OAAO,EAAEuC,OADb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,CAPJ,eAYI,oBAAC,KAAD,CAAO,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI,oBAAC,MAAD;AAAQ,UAAA,KAAK,EAAC,OAAd;AAAsB,UAAA,OAAO,EAAE;AAAA,mBAAM,MAAI,CAACJ,QAAL,CAAc;AAAEnC,cAAAA,SAAS,EAAE;AAAb,aAAd,CAAN;AAAA,WAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,CAZJ,CAFJ,CAhBJ,CADoB;AAAA,OAAxB,CADH,gBA2CO,oBAAC,KAAD,CAAO,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CADJ,CA5CZ,CAXJ,CAFJ,CADJ,CADJ,CADJ,CADJ;AA2EH;;;;EAhI2B3B,KAAK,CAACsE,S;;AAmItC,eAAe9C,iBAAf","sourcesContent":["import React from 'react';\r\nimport {\r\n    Button, Form, Header, Image, Input,\r\n    Dropdown, Grid, Modal,\r\n    Message, Segment, Card, Img, Icon,\r\n    Table, Label, Container, List, Popup\r\n} from \"semantic-ui-react\";\r\n\r\nimport { ToastContainer, toast } from 'react-toastify';\r\n\r\nimport UserChangeSession from './UserChangeSessionModel'\r\n\r\nconst axios = require('axios');\r\nclass ViewChangeRequest extends React.Component {\r\n    state = {\r\n        requests: [],\r\n        openModel: false\r\n    }\r\n    componentDidMount() {\r\n        axios.get('http://localhost:5000/session/getUserChangeRequests/' + localStorage.userID, {\r\n            headers: {\r\n                jwtToken: localStorage.jwtToken\r\n            }\r\n        })\r\n            .then((res) => {\r\n                console.log(res);\r\n                const requests = res.data;\r\n                console.log(requests);\r\n\r\n                requests.forEach(element => {\r\n\r\n                    var requestdatestr = element.request.ct_session_start_time.split(\"T\");\r\n                    var requestdatestrdate = requestdatestr[0].split(\"-\");\r\n                    var requestdatestr3 = requestdatestr[1].split(\":\");                    \r\n                    var requestenddatestr = element.request.ct_session_end_time.split(\"T\");\r\n\r\n                    var requestenddatestr3 = requestenddatestr[1].split(\":\");\r\n                    var requestday = (parseInt(requestdatestrdate[2])).toString();\r\n\r\n                    element.request.ct_session_start_time = requestdatestr3[0] + \":\" + requestdatestr3[1];\r\n                    element.request.ct_session_end_time = requestenddatestr3[0] + \":\" + requestenddatestr3[1];\r\n                    element.request.ct_session_date = requestday + \"/\" + requestdatestrdate[1] + \"/\" + requestdatestrdate[0];\r\n\r\n\r\n                    for (let x = 0; x < element.changeRequests.length; x++) {\r\n\r\n                        var datestr = element.changeRequests[x].ct_session_start_time.split(\"T\");\r\n                        var datestrdate = datestr[0].split(\"-\");\r\n                        var datestr3 = datestr[1].split(\":\");\r\n                        var enddatestr = element.changeRequests[x].ct_session_end_time.split(\"T\");\r\n                        var enddatestr3 = enddatestr[1].split(\":\");\r\n                        var day = (parseInt(datestrdate[2])).toString();\r\n\r\n                        element.changeRequests[x].ct_session_start_time = datestr3[0] + \":\" + datestr3[1];\r\n                        element.changeRequests[x].ct_session_end_time = enddatestr3[0] + \":\" + enddatestr3[1];\r\n                        element.changeRequests[x].ct_session_date = day + \"/\" + datestrdate[1] + \"/\" + datestrdate[0];\r\n                    }\r\n                });\r\n                const openModel = false;\r\n                this.setState({ requests, openModel });\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n            });\r\n    }\r\n    render() {\r\n        return (\r\n            <Grid columns='equal' divided>\r\n                <Grid.Row textAlign='center'>\r\n                    <Grid.Column>\r\n                        <Container>\r\n                            <h1>Change requests for sessions</h1>\r\n                            <Table basic='very' celled collapsing>\r\n                                <Table.Header>\r\n                                    <Table.Row>\r\n                                        <Table.HeaderCell>Session ID </Table.HeaderCell>\r\n                                        <Table.HeaderCell>Session Date </Table.HeaderCell>\r\n                                        <Table.HeaderCell>Session Start Time </Table.HeaderCell>\r\n                                        <Table.HeaderCell>Session End Time </Table.HeaderCell>\r\n                                        <Table.HeaderCell>Session Time Zone </Table.HeaderCell>\r\n                                        <Table.HeaderCell>Session User ID </Table.HeaderCell>\r\n                                    </Table.Row>\r\n                                </Table.Header>\r\n                                <Table.Body>\r\n                                    {this.state.requests.length > 0 ? (\r\n                                        this.state.requests.map((details, index) => (\r\n                                            <Table.Row>\r\n                                                <Table.Cell>\r\n                                                    {details.request.id}\r\n                                                </Table.Cell>\r\n                                                <Table.Cell>\r\n                                                    {details.request.ct_session_date}\r\n                                                </Table.Cell>\r\n                                                <Table.Cell>\r\n                                                    {details.request.ct_session_start_time}\r\n                                                </Table.Cell>\r\n                                                <Table.Cell>\r\n                                                    {details.request.ct_session_end_time}\r\n                                                </Table.Cell>\r\n                                                <Table.Cell>\r\n                                                    {details.request.ct_counsellor_timezone_code}\r\n                                                </Table.Cell>\r\n                                                <Table.Cell>\r\n\r\n                                                    <Modal\r\n                                                        onClose={() => this.setState({ openModel: false })}\r\n                                                        onOpen={() => this.setState({ openModel: true })}\r\n                                                        open={this.state.openModel}\r\n                                                        trigger={<Button>Change session date</Button>}\r\n                                                    >\r\n                                                        <Modal.Header>Select Session Change Date</Modal.Header>\r\n                                                        <Modal.Content  >\r\n                                                            <UserChangeSession\r\n                                                                Request={details}\r\n                                                            />\r\n                                                        </Modal.Content>\r\n                                                        <Modal.Actions>\r\n                                                            <Button color='black' onClick={() => this.setState({ openModel: false })}>\r\n                                                                Close\r\n                                                                </Button>\r\n\r\n                                                        </Modal.Actions>\r\n                                                    </Modal>\r\n                                                </Table.Cell>\r\n                                            </Table.Row>))\r\n                                    ) :\r\n                                        (\r\n                                            <Table.Row>\r\n                                                <Table.Cell>\r\n                                                    No requests found for you today\r\n                                        </Table.Cell>\r\n                                            </Table.Row>\r\n                                        )\r\n                                    }\r\n                                </Table.Body>\r\n                            </Table>\r\n                        </Container>\r\n                    </Grid.Column>\r\n                </Grid.Row>\r\n            </Grid>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ViewChangeRequest;"]},"metadata":{},"sourceType":"module"}